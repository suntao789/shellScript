### sed的使用
`sed`命令主要用于处理、编辑文件，虽然可以使用`echo "test" >> filename`的方式向文件`filename`里追加内容，但其灵活性远远不如`sed`。因此，在shell脚本中如果涉及对文件的操作，使用`sed`就是不二的选择。
对于文本操作而言，常用的有增、删、改等操作。
#### 增加内容
向一个文本增加内容，一般来说，有3种方式
##### 文件开头增加内容
比如，我要对`11.sh`最前面添加`test`内容
`sed -i '1i\test' 11.sh` 其中`-i`表示写入文件，`1i`表示在首行写入。效果如下
``` shell
root# cat 11.sh
test
#!/bin/bash
```
##### 文件中间增加内容
比如，我想对`11.sh`的第2行后面添加`hello sed`,命令如下
`sed -i '2a\hello sed' 11.sh`其中`2a`表示在第2行的后面添加，而前面的`1i`表示在第一行前面添加。效果如下
``` shell
root#cat 11.sh
test
#!/bin/bash
hello sed
```
##### 文件最后追加内容
比如，我要对`11.sh`文件最后添加`END`，命令如下
`sed -i '$a\END' 11.sh` 其中，`$a`表示文件最后面添加，当然也可以使用`echo "END" >> 11.sh`的方式。效果如下
``` shell
root# cat 11.sh
省略
factorial 10
END
```
#### 删除文本内容
任务把前面增加的3行内容全部删除，我们需要用到`d`操作符，命令如下
``` shell
sed -i '3d' 11.sh
sed -i '1d' 11.sh
sed -i '$d' 11.sh
```
执行完上述命令后，增加的3行文本全部删除，这里有1个小问题，为什么要先删除第3行那？请大家想一下。
#### 修改文本内容
实际项目中用的最多的就是修改文本的内容，既然要修改那么首先就是要找到相应的内容，比如，我要把`11.sh`首行的`#!/bin/bash`修改为`#!/bin/csh`，那么命令如下
`sed -i  's/bash/csh/g' 11.sh` 其中`s/bash/csh/g`表示将bash替换为csh，效果为
``` shell
root# cat 11.sh
#!/bin/csh
```
除此之外，还有`sed -n '/bash/'p 11.sh`的方式，把表示打印含有bash的行，可以用来进行文件搜索，这个功能可以用`grep`命令来代替。

#### 知识点
* `sed`常用的增、删、改对应的操作符为`a d s`
* `sed -i`表示直接写入文件，如果不加`-i`表示读取文件后操作，但不写入。




